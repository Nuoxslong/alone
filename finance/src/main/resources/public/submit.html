<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<link href="/css/bootstrap.min.css" rel="stylesheet">
<body>
<div class="container">
    <form method="post" onsubmit="return false">
        <div class="form-group">
            <label for="user"></label>
            <input type="text" class="form-control" name="user" disabled id="user" value="user">
        </div>
        <div class="form-group">
            <label for="type"></label>
            <select id="type" class="form-control">
                <option value="EXPEND">支出</option>
                <option value="INCOME">收入</option>
            </select>
        </div>
        <div class="form-group">
            <label for="amount"></label>
            <input type="text" class="form-control" name="amount" id="amount">
        </div>
        <div class="form-group">
            <label for="remark"></label>
            <input type="text" class="form-control" name="remark" id="remark">
        </div>
        <button type="button" onclick="flow()" class="btn btn-primary">记账</button>
    </form>
</div>


</body>

<script src="/js/jquery-3.7.1.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script>

    function flow() {
        let type = document.getElementById("type").value;
        let amount = document.getElementById("amount").value;
        let remark = document.getElementById("remark").value;
        $.ajax({
            type: "post",
            dataType: "json",
            url: "/flow",
            contentType: "application/json",
            data: JSON.stringify({
                "user": "user",
                "type": type,
                "amount": amount,
                "remark": remark
            }),
            success: function (result) {
                console.log("result is :" + result)

            }
        })
    }

</script>
</html>